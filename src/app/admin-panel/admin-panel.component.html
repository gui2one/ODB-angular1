<app-confirm-modal #testModal (onDecide)="testModalDecide($event)" display="false"></app-confirm-modal>
<app-confirm-modal #overwriteDatabaseModal display="false"></app-confirm-modal>



<div id="wrapper" class="p-sm-1 p-md-2 p-xl-4" *ngIf="router.url === '/admin'">
  <h2>Admin Panel</h2>



  


  
<app-admin-collapse collapsed="true" name="siteDataCollapse" label="Site Data">


      <app-admin-collapse-group name="siteOnlineCollapseGroup" label="Site online">
        <label>
          <app-toggle toggleName="toggle1" (click)="onClickToggle1($event)"></app-toggle>
          <ng-container *ngIf="siteDbData">
            <span *ngIf="bSiteOnline" class="online">online</span>
            <span *ngIf="!bSiteOnline" class="offline">offline</span>
          </ng-container>
      
      
        </label>
        <br>
        <div class="save-to-site">
          <button class="btn btn-primary" (click)="saveToSite($event)">Save to Site</button>
        </div>
      </app-admin-collapse-group>



      <app-admin-collapse-group collapsed="true" name="serviceBoxesCollapseGroup" label="Service Boxes">
                        <div #serviceBoxes class="row m-0" *ngIf="homeDbData">
                        
                          <div *ngFor="let item of homeDbData.serviceBoxes; let id=index;" class="box-data-container col-sm-6  col-xl-3 " id={{id}}>
                            <app-admin-multilang-input #serviceBoxesTitleMultiInput inputType="text" id="{{id}}" [attr.data-value]="item.title[langService.currentLanguage]"
                              [values]="item.title" (focusout)="onFocusOut($event)" name="Title">
                            </app-admin-multilang-input>
                            <!-- <label for="{{id}}">Title</label>
                                                <input type="text" class="text-edit" id="{{id}}" (focusout)="onFocusOut($event)" [value]="item.title" /> -->
                        
                            <div class="dropdown">
                              <button class="btn btn-secondary btn-sm dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true"
                                aria-expanded="false">
                                <i class="{{item.icon}} service-box-icons"></i>
                              </button>
                              <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                <div *ngFor="let icon of iconsList; let iconID = index;" class="dropdown-item" (click)="onChooseIcon($event,iconID)" id={{id}}
                                  [attr.data-iconid]="iconID">
                                  <i class="{{icon}}"></i>
                                </div>
                              </div>
                            </div>
                        
                            <app-admin-multilang-input #serviceBoxesTextMultiInput inputType="textarea" id="{{id}}" [attr.data-value]="item.text[langService.currentLanguage]"
                              [values]="item.text" (focusout)="onFocusOut($event)" name="Text">
                            </app-admin-multilang-input>
                            <!-- <textarea class="text-area" id="{{id}}" (focusout)="onFocusOut($event)">{{item.text}}</textarea> -->
                          </div>
                        </div>

                        <div class="save-to-site">
                          <button class="btn btn-primary" (click)="saveServiceBoxesToSite($event)">Save to Site</button>
                        </div>
      
      </app-admin-collapse-group>
</app-admin-collapse>
  
      

<app-admin-collapse name="dataBaseToolsCollapseGroup" label="Database Tools">

<app-admin-collapse-group name="databaseToolsSaveGroup" label="Sauvegarder la base de donnÃ©e">

                      <div class="save-to-site">
                      
                        <button class="btn btn-primary" (click)="backupDataBase($event)">Sauvegarder</button>
                      </div>
</app-admin-collapse-group>

<app-admin-collapse-group name="databaseToolsLoadGroup" label="Charger une base de donnÃ©e">

                    <form>
                      <label class="custom-file-upload">
                        <div class="btn btn-primary">Charger une Sauvegarde
                          <i class="fas fa-download"></i>
                        </div>
                        <input class="" type="file" name="load-backup-file" id="backupFile" (change)="overwriteDatabaseModal.show('Confirm overwiting data base ?! really  really ????','yes really !','', overwriteDatabase.bind(this),$event,this)">
                      </label>
                    </form>
</app-admin-collapse-group>
</app-admin-collapse>



 


</div>



